{"mappings":"AAI4B,IAAxBA,EAAO,EAEM,MAAXC,EAAUC,SAASC,cAAc,YACjCC,EAAcF,SAASC,cAAc,cAGhBE,eAAZC,EAAYC,GACzB,IACE,MAAMC,QAAiBC,MACrB,qEAAgCF,kEAA4EP,iBAE9G,IAAKQ,EAASE,GACZ,MAAM,IAAIC,MAAM,yBAGlB,aADmBH,EAASI,QAChBC,I,CACZ,MAAOC,GAEP,OADAC,QAAQD,MAAM,yBAA0BA,GACjC,E,EAKgC,SAAlCE,EAAsBC,GAC7B,MAAMC,EAAmBD,EACtBE,KACEC,GACC,kDACeA,EAAKC,uBAAuBD,EAAKE,2GAENF,EAAKG,8DACLH,EAAKI,iEACFJ,EAAKK,qEACJL,EAAKM,sDAItDC,KAAK,IAER1B,EAAQ2B,mBAAmB,YAAaV,E,CAsB1ChB,SAASC,cAAc,QAAQ0B,iBAAiB,UAAUxB,MAAOyB,IAC/DA,EAAEC,iBACF/B,EAAO,EAC6BC,EAA5B+B,UAAY,GACL5B,EAAH6B,MAAMC,QAAU,OAEf,MAAP3B,EAAcuB,EAAEK,OAAO5B,YAAY6B,MACnCnB,QAAeX,EAAYC,GAEX,IAAlBU,EAAOoB,QAKXrB,EAAsBC,GACtBb,EAAY6B,MAAMC,QAAU,QAC5BI,OAAOC,SAAS,CACdC,IAAKvC,EAAQwC,aACbC,SAAU,YARV3B,QAAQ4B,IAAI,2EASZ,IAGJvC,EAAYyB,iBAAiB,SAxCuBxB,iBAClDL,GAAQ,EACe,MAAjBO,EAAcL,SAASC,cAAc,6BAA6BiC,MAClEnB,QAAeX,EAAYC,GAEX,IAAlBU,EAAOoB,QAE0BjC,EAAvB6B,MAAMC,QAAU,OACKnB,QAAzB4B,IAAI,iEAEZ3B,EAAsBC,GACtBqB,OAAOC,SAAS,CACdC,IAA4B,EAAvBvC,EAAQwC,aACbC,SAAU,W","sources":["src/index.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '39263242-9a9e6029252b757da1c0dfd4b';\nconst perPage = 20; // Кількість зображень на сторінці\n\nlet page = 1; // Початкова сторінка\n\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\n\n// Функція для виконання HTTP-запиту до Pixabay API\nasync function fetchImages(searchQuery) {\n  try {\n    const response = await fetch(\n      `${BASE_URL}?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`\n    );\n    if (!response.ok) {\n      throw new Error('Error fetching images');\n    }\n    const data = await response.json();\n    return data.hits;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    return [];\n  }\n}\n\n// Функція для додавання карток зображень до галереї\nfunction appendImagesToGallery(images) {\n  const galleryItemsHTML = images\n    .map(\n      (item) =>\n        `<div class=\"photo-card\">\n           <img src=\"${item.largeImageURL}\" alt=\"${item.tags}\" loading=\"lazy\" />\n           <div class=\"info\">\n             <p class=\"info-item\"><b>Likes:</b> ${item.likes}</p>\n             <p class=\"info-item\"><b>Views:</b> ${item.views}</p>\n             <p class=\"info-item\"><b>Comments:</b> ${item.comments}</p>\n             <p class=\"info-item\"><b>Downloads:</b> ${item.downloads}</p>\n           </div>\n         </div>`\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', galleryItemsHTML);\n}\n\n// Функція для обробки подальших запитів при натисканні кнопки \"Load more\"\nasync function handleLoadMore() {\n  page += 1; // Збільшуємо номер сторінки\n  const searchQuery = document.querySelector('input[name=\"searchQuery\"]').value;\n  const images = await fetchImages(searchQuery);\n\n  if (images.length === 0) {\n    // Перевірка на порожній масив результатів\n    loadMoreBtn.style.display = 'none'; // Якщо немає результатів, ховаємо кнопку \"Load more\"\n    console.log(\"Sorry, there are no more images matching your search query.\");\n  } else {\n    appendImagesToGallery(images);\n    window.scrollBy({\n      top: gallery.clientHeight * 2,\n      behavior: 'smooth',\n    });\n  }\n}\n\ndocument.querySelector('form').addEventListener('submit', async (e) => {\n  e.preventDefault();\n  page = 1; // Скидаємо номер сторінки при новому пошуку\n  gallery.innerHTML = ''; // Очищуємо галерею\n  loadMoreBtn.style.display = 'none'; // Ховаємо кнопку \"Load more\"\n\n  const searchQuery = e.target.searchQuery.value;\n  const images = await fetchImages(searchQuery);\n\n  if (images.length === 0) {\n    console.log(\"Sorry, there are no images matching your search query. Please try again.\");\n    return;\n  }\n\n  appendImagesToGallery(images);\n  loadMoreBtn.style.display = 'block'; // Показуємо кнопку \"Load more\"\n  window.scrollBy({\n    top: gallery.clientHeight,\n    behavior: 'smooth',\n  });\n});\n\nloadMoreBtn.addEventListener('click', handleLoadMore);"],"names":["$1f0dc3b9307be026$var$page","$1f0dc3b9307be026$var$gallery","document","querySelector","$1f0dc3b9307be026$var$loadMoreBtn","async","$1f0dc3b9307be026$var$fetchImages","searchQuery","response","fetch","ok","Error","json","hits","error","console","$1f0dc3b9307be026$var$appendImagesToGallery","images","galleryItemsHTML","map","item","largeImageURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","addEventListener","e","preventDefault","innerHTML","style","display","target","value","length","window","scrollBy","top","clientHeight","behavior","log"],"version":3,"file":"index.b811e0b5.js.map"}